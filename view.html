<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Product Records</title>
  <link rel="stylesheet" href="view.css">
</head>
<body>
  <a href="basic.html">Back</a>
  <a href="buyprod.html">Buy Products</a>
  <div class="container">
    <h1>Registered Products</h1>
    <table id="productTable">
      <thead>
        <tr>
          <th>Product ID</th>
          <th>Name</th>
          <th>Price</th>
          <th>Category</th>
          <th>Stock</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script>
    fetch('/products')
      .then(response => response.json())
      .then(data => {
        const tbody = document.querySelector('#productTable tbody');
        data.forEach(product => {
          const row = `<tr>
                        <td data-label="Product ID">${product.prodid}</td>
                        <td data-label="Name">${product.prodname}</td>
                        <td data-label="Price">${product.price}</td>
                        <td data-label="Category">${product.category}</td>
                        <td data-label="Stock">${product.stock}</td>
                      </tr>`;
          tbody.innerHTML += row;
        });
      })
      .catch(error => {
        console.error('Error fetching product data:', error);
      });
  </script>
</body>
</html>
